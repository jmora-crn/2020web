(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var f,aa="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},ba=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");},ca=ba(this),g;
if("function"==typeof Object.setPrototypeOf)g=Object.setPrototypeOf;else{var k;a:{var da={ga:!0},l={};try{l.__proto__=da;k=l.ga;break a}catch(a){}k=!1}g=k?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var n=g,p=this||self,q=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};var r=function(a,b,c){a=parseInt(a.getAttribute(b),10);isNaN(a)&&(a=c);return a},t=function(a,b,c){return a.hasAttribute(b)?a.getAttribute(b):c};var u=function(a,b){this.Pa=a;this.ka=b};u.prototype.fetch=function(){navigator.geolocation.getCurrentPosition(this.Ia.bind(this),this.ya.bind(this))};u.prototype.Ia=function(a){a=a.coords;this.Pa(a.latitude,a.longitude,a.accuracy)};u.prototype.ya=function(a){this.ka(a.message)};var v=function(a,b,c){c=void 0===c?null:c;var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c);b.dispatchEvent(d);return d},ea=function(a,b){var c=function(d){a.removeEventListener("load",c);b(d)};a.addEventListener("load",c)};var w=function(){this.Oa="https://www.google.com/jsapi";for(var a=["google","load"],b=window,c=0;b&&c<a.length;c++)b=b[a[c]];this.v=b?0:2;this.A=[]};w.prototype.Fa=function(){for(var a=this.v=0;a<this.A.length;a++)this.A[a]();this.A=[]};
w.prototype.load=function(a){a&&(0==this.v?a():this.A.push(a));if(2==this.v){this.v=1;a=document.createElement("script");ea(a,this.Fa.bind(this));a.setAttribute("type","text/javascript");a.setAttribute("async",!0);a.setAttribute("src",this.Oa);var b=document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):document.getElementsByTagName("head")[0].appendChild(a)}};var x=null,fa=function(a){x||(x=new w);x.load(function(){google.load("maps","3.28",a)})};var y=function(a,b){this.Ka=a;this.Ja=new google.maps.places.PlacesService(b)};y.prototype.search=function(a,b,c){a={location:a.getCenter()||void 0,radius:3*a.getRadius(),query:this.Ka};this.Ja.textSearch(a,function(d,e){c(e==google.maps.places.PlacesServiceStatus.OK?d:[])})};var z=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,z);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};q(z,Error);z.prototype.name="CustomError";var A=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");z.call(this,c+a[d])};q(A,z);A.prototype.name="AssertionError";var ha=function(a,b,c){if(!a){var d="Assertion failed";if(b){d+=": "+b;var e=Array.prototype.slice.call(arguments,2)}throw new A(""+d,e||[]);}return a},B=function(a,b){throw new A("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var E=function(a,b){this.T=a===C&&b||"";this.fa=D};E.prototype.$=!0;E.prototype.Y=function(){return this.T};E.prototype.toString=function(){return"Const{"+this.T+"}"};var D={},C={};var G=function(a,b){this.P=b===F?a:""};G.prototype.$=!0;G.prototype.Y=function(){return this.P.toString()};G.prototype.toString=function(){return"SafeUrl{"+this.P+"}"};
var H=function(a){if(a instanceof G&&a.constructor===G)return a.P;var b=typeof a;B("expected object of type SafeUrl, got '"+a+"' of type "+("object"!=b?b:a?Array.isArray(a)?"array":b:"null"));return"type_error:SafeUrl"},ia=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,I=function(a){if(a instanceof G)return a;a="object"==typeof a&&a.$?a.Y():String(a);ha(ia.test(a),"%s does not match the safe URL pattern",a)||(a="about:invalid#zClosurez");return new G(a,F)},F={};var J=function(a,b){a:{try{var c=a&&a.ownerDocument,d=c&&(c.defaultView||c.parentWindow);d=d||p;if(d.Element&&d.Location){var e=d;break a}}catch(h){}e=null}if(e&&"undefined"!=typeof e.HTMLAnchorElement&&(!a||!(a instanceof e.HTMLAnchorElement)&&(a instanceof e.Location||a instanceof e.Element))){e=typeof a;if("object"==e&&null!=a||"function"==e)try{var m=a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}catch(h){m="<object could not be stringified>"}else m=void 0===
a?"undefined":null===a?"null":typeof a;B("Argument is not a %s (or a non-Element, non-Location mock); got: %s","HTMLAnchorElement",m)}b=b instanceof G?b:I(b);a.href=H(b)},K=function(a){a=a instanceof G?a:I(a);p.open(H(a),"",void 0,void 0)};var L=function(a){a=a.trim();return window.Enabler?window.Enabler.getUrl(a):a};var M=function(a,b,c,d,e,m,h){this.L=a;this.a=null;this.La=c;this.sa=d;this.ta=e;this.Ma=m;this.c=h;this.ra=h.limit;this.R=h.radius;this.W=null;this.m=0;this.g=this.s=this.Z=this.J=this.K=this.H=this.ca=this.V=this.N=null;this.h=[];this.C=[];this.ea=null;this.b=b.ownerDocument.createElement("div");this.b.className="map";b.appendChild(this.b)},N=function(a,b,c){var d=a.b.ownerDocument.createElement("img"),e=function(){d.removeEventListener("load",e,!1);d.removeEventListener("error",e,!1);d.removeEventListener("abort",
e,!1);c()};d.addEventListener("load",e,!1);d.addEventListener("error",e,!1);d.addEventListener("abort",e,!1);d.setAttribute("src",L(b))};
M.prototype.ja=function(){this.m--;if(0==this.m){var a=this.c;if(a.lat&&a.lng){var b=new google.maps.LatLng(a.lat,a.lng);var c=a.zoom;var d=!0}else b=new google.maps.LatLng(0,0),c=1;c=new google.maps.Map(this.b,{center:b,zoom:c,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1});this.ea=c.getBounds();google.maps.event.addListener(c,"dragend",this.xa.bind(this));google.maps.event.addListener(c,"click",this.Ga.bind(this));var e=L(this.c.markerSource);this.N={url:e,size:new google.maps.Size(34,
34),origin:new google.maps.Point(0,0)};this.V={url:e,size:new google.maps.Size(34,34),origin:new google.maps.Point(34,0)};this.ca={url:e,size:new google.maps.Size(37,34),origin:new google.maps.Point(68,0),anchor:new google.maps.Point(10,34)};this.K={url:L(this.c.gpsIconSource),size:new google.maps.Size(32,32),anchor:new google.maps.Point(0,0)};this.W=new y(a.query||"*",c);d&&new google.maps.Marker({position:b,map:c,icon:this.K});this.a=c;this.La()}};
M.prototype.xa=function(){if(this.s){for(var a=this.a.getBounds(),b=!0,c=0;c<this.C.length;c++)if(a.contains(this.C[c].geometry.location||null)){b=!1;break}b&&!this.s.getBounds().contains(this.a.getCenter())&&(this.u(),this.Ma())}};M.prototype.u=function(){this.g&&(this.g.setIcon(this.N),this.g=null)};
var O=function(a,b,c,d){a.a&&(b=new google.maps.LatLng(b,c),c=a.a,a.J=b,c.setCenter(b),new google.maps.Marker({position:b,map:c,icon:a.K}),d&&(a.R=d,a.Z=new google.maps.Circle({center:b,radius:a.R,map:c,fillColor:"#a2d1f5",fillOpacity:.5,strokeWeight:0}),c.fitBounds(a.Z.getBounds())))};f=M.prototype;f.search=function(a){if(this.a){var b=this.R,c=10-this.a.getZoom();0<c&&(b*=c);this.s=new google.maps.Circle({center:this.a.getCenter(),radius:b});this.W.search(this.s,this.ra,this.B.bind(this,a))}};
f.B=function(a,b){for(var c=0;c<this.h.length;c++)this.h[c].setMap(null),google.maps.event.clearInstanceListeners(this.h[c]);this.h.length=0;this.C=b;for(c=0;c<b.length;c++){var d=new google.maps.Marker({position:b[c].geometry.location,map:this.a,icon:this.N,Ra:this.ca});google.maps.event.addListener(d,"click",this.O.bind(this,c));this.h.push(d)}this.a.fitBounds(this.s.getBounds());if(c=0<b.length)d=this.a.getBounds(),b=b[0].geometry.location||null,d&&!d.contains(b)&&(d.extend(b),this.a.fitBounds(d));
a(c)};f.Ga=function(){this.u();this.sa()};f.O=function(a){this.u();this.g=this.h[a];this.ta(this.C[a],this.la.bind(this))};f.la=function(a){this.g.setIcon(this.V);this.a.panTo(this.g.getPosition());this.a.panBy(0,a)};f.pa=function(a,b,c,d){d==google.maps.GeocoderStatus.OK?(b=c[0].geometry.location,this.a.setCenter(b),this.a.fitBounds(c[0].geometry.viewport),O(this,b.lat(),b.lng()),a()):b()};var Q=function(a,b,c,d){this.L=a;this.G=null;this.ia=c;this.oa=d;this.b=b.ownerDocument.createElement("div");this.b.className="ip";a=b.ownerDocument.createElement("div");a.className="bg";this.b.appendChild(a);c=b.ownerDocument.createElement("a");c.className="dir";c.appendChild(b.ownerDocument.createElement("div"));a.appendChild(c);c.addEventListener("click",this.Ea.bind(this),!1);c=b.ownerDocument.createElement("div");c.className="res";this.U=b.ownerDocument.createElement("div");this.U.className=
"title";this.F=b.ownerDocument.createElement("div");this.F.className="address";this.o=b.ownerDocument.createElement("div");this.o.className="tel";d=this.i=b.ownerDocument.createElement("a");var e=new E(C,"#");e instanceof E&&e.constructor===E&&e.fa===D?e=e.T:(B("expected object of type Const, got '"+e+"'"),e="type_error:Const");J(d,new G(e,F));this.o.appendChild(this.i);c.appendChild(this.U);c.appendChild(this.F);c.appendChild(this.o);a.appendChild(c);this.i.addEventListener("click",this.ua.bind(this));
c=b.ownerDocument.createElement("a");c.className="close";c.appendChild(b.ownerDocument.createElement("div"));a.appendChild(c);c.addEventListener("click",this.va.bind(this),!1);P(this);b.appendChild(this.b)},P=function(a){a.b.classList.add("hidden")};Q.prototype.ua=function(a){a.preventDefault();a=this.i.href;v("calllocation",this.L,{url:a}).detail.handled||K(a)};Q.prototype.va=function(a){a.preventDefault();P(this);this.ia()};Q.prototype.Ea=function(a){a.preventDefault();this.G&&this.oa(this.G)};var R=function(a){var b=document.createElement("div");b.className="bg hidden";var c=document.createElement("div");c.className="loading";c.appendChild(document.createElement("div"));b.appendChild(c);this.b=b;a.appendChild(this.b)};R.prototype.show=function(){this.b.classList.remove("hidden")};var S=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},T=function(a){if(S(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&S(a))return a;return null};var U=function(a,b,c,d){this.I=b;this.na=c;this.b=ja(this,d);this.ma=this.b.querySelector("form");this.qa=this.b.querySelector("input");this.Qa=this.b.querySelector(".title");this.ha=this.b.querySelector(".btns");a.appendChild(this.b)},ja=function(a,b){var c=document.createElement("div"),d=document.createElement("div");d.classList.add("diag");c.appendChild(d);var e=document.createElement("div");e.classList.add("title");e.textContent=b.title;d.appendChild(e);e=document.createElement("div");e.classList.add("btns");
d.appendChild(e);var m=document.createElement("form");m.setAttribute("method","get");d.appendChild(m);var h=document.createElement("input");h.placeholder=b.geocodePlaceholder;h.type="search";m.appendChild(h);a.I?(V(e,b.gpsLabel,a.I),V(e,b.geocodeLabel,a.S.bind(a,b.geocodeTitle))):e.classList.add("hidden");b=c.querySelector("form");b.addEventListener("submit",function(ka){ka.preventDefault();this.na(h.value)}.bind(a),!1);a.I&&b.classList.add("hidden");c.classList.add("bg");return c},V=function(a,b,
c){var d=document.createElement("a");d.textContent=b;d.addEventListener("click",function(e){e.preventDefault();c()},!1);d.setAttribute("href","#");a.appendChild(d)};U.prototype.S=function(a){this.Qa.textContent=a;this.ha.classList.add("hidden");this.ma.classList.remove("hidden");this.b.classList.remove("hidden");this.qa.focus()};var la=["start-latitude","start-longitude","query"],W=function(){var a=HTMLElement.call(this)||this;a.ba=!1;a.M=!1;a.aa=!1;return a},X=HTMLElement;W.prototype=aa(X.prototype);W.prototype.constructor=W;if(n)n(W,X);else for(var Y in X)if("prototype"!=Y)if(Object.defineProperties){var Z=Object.getOwnPropertyDescriptor(X,Y);Z&&Object.defineProperty(W,Y,Z)}else W[Y]=X[Y];f=W.prototype;
f.connectedCallback=function(){if(!this.a){for(;this.firstChild;)this.removeChild(this.firstChild);var a={geocodeFailure:t(this,"msg-geocode-failure","Your location could not be determined. Please enter a valid address."),gpsIconSource:t(this,"gps-src","assets/location.png"),limit:r(this,"result-limit",20),locationDialogConfig:{title:t(this,"msg-start-position-prompt","How would you like us to get your position?"),gpsLabel:t(this,"msg-gps-button-label","Use GPS"),geocodeLabel:t(this,"msg-manual-position-button-label",
"Enter address or zip code"),geocodeTitle:t(this,"msg-manual-position-prompt","Enter address or zip code"),geocodePlaceholder:t(this,"msg-manual-position-placeholder","Address or zip code")},markerSource:t(this,"marker-src","assets/marker_sprite.png"),noResultsError:t(this,"msg-no-results-found","No results found near you."),radius:r(this,"search-radius",4E4),requestLocation:this.hasAttribute("request-user-location")||!this.hasAttribute("start-latitude")||!this.hasAttribute("start-longitude"),zoom:r(this,
"start-zoom",16),showLocationBar:this.hasAttribute("show-location-bar"),includeDirections:this.hasAttribute("include-directions"),includeClickToCall:this.hasAttribute("include-click-to-call"),includeDrapeImage:this.hasAttribute("include-drape-image")};this.hasAttribute("query")&&(a.query=this.getAttribute("query"));this.hasAttribute("start-latitude")&&(a.lat=parseFloat(this.getAttribute("start-latitude")));this.hasAttribute("start-longitude")&&(a.lng=parseFloat(this.getAttribute("start-longitude")));
this.hasAttribute("client-id")&&(a.clientId=this.getAttribute("client-id"));this.hasAttribute("api-key")&&(a.apiKey=this.getAttribute("api-key"));a.showLocationBar&&this.hasAttribute("location-bar-color")&&(a.locationBarColor=this.getAttribute("location-bar-color"));a.includeDrapeImage&&this.hasAttribute("drape-image-source")&&(a.drapeImageSource=this.getAttribute("drape-image-source"));this.c=a;var b=this.ownerDocument.createElement("div");b.className="sizer";this.a=new M(this,b,this.Ha.bind(this),
this.da.bind(this),this.O.bind(this),this.D.bind(this),a);this.X=navigator.geolocation?new u(this.Da.bind(this),this.Ba.bind(this)):null;this.l=new U(b,this.X&&this.Ca.bind(this),this.Aa.bind(this),a.locationDialogConfig);a.requestLocation||P(this.l);this.f=new R(b);this.appendChild(b);this.Na=b}this.gwdIsLoaded()||((a=T(this))?a.gwdIsLoaded()&&this.gwdLoad():this.gwdLoad());this.gwdIsActive()||((a=T(this))?a.gwdIsActive()&&this.gwdActivate():this.gwdActivate());a=this.a;a.a&&google.maps.event.trigger(a.a,
"resize")};f.attributeChangedCallback=function(a,b,c){if(this.a)switch(a){case "query":this.a.c.query=c||"";break;case "start-latitude":this.a.c.lat=parseFloat(c);break;case "start-longitude":this.a.c.lng=parseFloat(c)}};
f.gwdLoad=function(){if(!this.aa){this.aa=!0;var a=this.a,b=a.ja.bind(a);a.m=2;N(a,a.c.markerSource,b);a.m++;N(a,a.c.gpsIconSource,b);a.m++;var c=a.c.clientId;a=a.c.apiKey;var d="";a&&!c&&(d="&key="+a);fa({callback:b,other_params:"sensor=true&libraries=places"+(c?"&client="+c:"")+d});b()}};f.gwdIsLoaded=function(){return this.ba};f.gwdActivate=function(){this.classList.remove("deactivated");this.M=!0};f.gwdDeactivate=function(){this.classList.add("deactivated");this.M=!1};f.gwdIsActive=function(){return this.M};
f.setCenter=function(a,b,c){P(this.f);O(this.a,a,b,c);this.D()};f.Ha=function(){this.c.requestLocation||this.D();this.classList.add("ready");this.ba=!0;v("ready",this)};f.Ca=function(){this.f.show();P(this.l);this.X.fetch()};f.Da=function(a,b,c){this.setCenter(a,b,c)};f.Ba=function(a){P(this.f);this.l.S(a)};f.Aa=function(a){this.f.show();P(this.l);var b=this.a,c=this.D.bind(this),d=this.za.bind(this);b.a&&(b.H||(b.H=new google.maps.Geocoder),b.H.geocode({address:a,bounds:b.ea},b.pa.bind(b,c,d)))};
f.D=function(){this.c.query?(this.f.show(),this.a.search(this.B.bind(this))):P(this.f);this.da();v("mapopen",this)};f.B=function(a){P(this.f);a?v("resultsfound",this):(this.l.S(this.c.geocodeFailure),v("resultsnotfound",this))};f.za=function(){this.B(!1)};f.da=function(){this.j&&P(this.j)};
f.O=function(a,b){this.j||(this.j=new Q(this,this.Na,this.a.u.bind(this.a),this.wa.bind(this)));var c=this.j;c.G=a;c.U.textContent=a.name;var d=a.vicinity||a.formatted_address;d=d.replace(/, /,",\n");c.F.textContent=d;if(a.formatted_phone_number){c.o.classList.remove("hidden");c.i.textContent=a.formatted_phone_number;d="tel:"+a.formatted_phone_number.replace(/[^\d]/g,"");var e=String(d.substr(0,4)).toLowerCase();0==("tel:"<e?-1:"tel:"==e?0:1)||(d="about:invalid#zClosurez");J(c.i,new G(d,F))}else c.o.classList.add("hidden");
c.b.classList.remove("hidden");b(this.j.b.firstChild.offsetHeight/2);b=a.geometry.location.lat();a=a.geometry.location.lng();v("pinclick",this,{lat:b,lng:a})};f.wa=function(a){var b=this.a;if(b.a){var c=b.J?b.J.toString():"";a=encodeURIComponent(a.formatted_address);c="https://maps.google.com/maps?saddr="+escape(c)+"&daddr="+a;v("getdirections",b.L,{url:c}).detail.handled||K(c)}};ca.Object.defineProperties(W,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return la}}});
customElements.define("gwd-map",W);}).call(this);
